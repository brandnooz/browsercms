<%= able_to? :publish_content do -%>
  <% if @block.respond_to?(:live?) && !@block.live? %>
    <%= icon_link_to 'Publish', block_path(@block,:publish), 'ok',
      :class => "http_put btn#{' disabled' unless (current_user.able_to_publish?(@block) && @block.publishable?)}", 
      :id => "publish_button" %>
  <% else %>
    <%= icon_link_to 'Publish', "#", 'ok',
      :class => "http_put btn disabled", 
      :id => "publish_button" %>
  <% end %>
<% end -%>

<%= link_to 'View', block_path(@block),
  :class => "btn#{ ' btn-primary' if action_name == 'show'}", 
  :id => "view_button" %>
  
<%= icon_link_to 'Edit', block_path(@block,:edit), 'edit',
  :class => "btn#{ ' btn-primary' if action_name == 'edit'}#{' disabled' unless current_user.able_to_edit?(@block)}", 
  :id => "edit_button" %>
  
<%= icon_link_to "Add", new_block_path(@block), 'plus',
  :class => "btn#{ ' btn-primary' if action_name == 'new'}", 
  :id => "add_button" %>

<% if @block.class.versioned? %>
  <%= icon_link_to 'List Versions', block_path(@block,:versions), 'list',
    :class => "btn#{ ' btn-primary' if action_name == 'revisions'}", 
    :id => "list_versions" %>
<% else %>
  <%= icon_link_to 'List Versions', '#', 'list',
    :class => "btn disabled", 
    :id => "list_versions" %>
<% end %>

<%= delete_button :path=>block_path(@block), :title=>"Are you sure you want to delete '#{@block.name}'?", :enabled=>current_user.able_to_publish?(@block) %>

